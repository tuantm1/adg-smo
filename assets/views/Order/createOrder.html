<!-- Thông tin đặt hàng -->
<div class="portlet light bordered">
    <div class="portlet-title">
        <div class="caption font-dark">
            <i class="font-dark"></i>
            <span class="caption-subject bold uppercase"> Thông tin đặt hàng</span>
        </div>
    </div>
    <div class="portlet-body">
        <div id="sample_1_wrapper" class="dataTables_wrapper no-footer">
            <div class="table-scrollable" data-ng-if="theOrder.DIVISION!=='02'">
                <table class="table table-striped table-bordered table-hover order-column dataTable no-footer"
                       id="sample_1" role="grid" aria-describedby="sample_1_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            aria-label=" Email : activate to sort column ascending"> Mặt hàng
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Cao phủ bì
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Rộng phủ bì
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 15%;"
                            aria-label=" Status : activate to sort column ascending"> Số lượng
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Đơn vị
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Đơn giá
                        </th>

                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 15%;"
                            aria-label=" Actions : activate to sort column ascending"> Thao tác
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="gradeX odd" role="row" data-ng-repeat="i in theOrder.ITEMS track by $index"
                        data-ng-if="i.MATNR !== '0'">

                        <td class="sorting_1">
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.NAME"
                                   data-ng-if="i.MATNR !== 0"
                                   id="sales_doc_type23"
                                   class="form-control"
                            >
                            <selectize config="myConfig2" ng-model="i.MATNR" ng-disabled='disable' required='true'
                                       data-ng-if="i.MATNR === 0"
                                       ng-change="loadUnit($index, i.MATNR)"></selectize>
                            <!--                            <select class="form-control " name="options2"-->
                            <!--                                    tabindex="-1" aria-hidden="true" aria-required="true" aria-invalid="false"-->
                            <!--                                    aria-describedby="options2-error"-->
                            <!--                                    data-ng-model="i.MATNR"-->
                            <!--                                    data-ng-if="i.MATNR === 0"-->
                            <!--                                    ng-change="loadUnit($index, i.MATNR)"-->
                            <!--                                    data-ng-options="maras_Global.MATNR as maras_Global.MAKTX for maras_Global in maras_Global">-->
                            <!--                            </select>-->
                            <!--                            <selectize options='myOptions2' config="myConfig2" ng-model="i.MATNR" ng-disabled='disable' required='true' ng-change="loadUnit($index, i.MATNR)"></selectize>-->
                        </td>
                        <td class="sorting_1">
                            {{i.HEIGHT}}
                        </td>
                        <td class="sorting_1">
                            {{i.WIDTH}}
                        </td>

                        <td class="sorting_1">
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.QUANTITY"
                                   id="sales_doc_type_2"
                                   class="form-control"
                                   ng-change="check_price()"
                            >
                        </td>
                        <td class="sorting_1">
                            {{i.SALE_UNIT}}
                        </td>
                        <td class="sorting_1">
                            {{i.ZPRICE|number:0}}
                        </td>

                        <td>
                            <!--                            <button data-ng-click="edit(i.MATNR)" class="btn btn-xs btn-success"-->
                            <!--                                    type="button" data-ng-if="$index===0"-->
                            <!--                                    title="Chi tiết">Chi tiết-->
                            <!--                            </button>-->
                            <button data-ng-click="edit(i.MATNR , $index)" class="btn btn-xs btn-success"
                                    type="button"
                                    title="Chi tiết">Chi tiết
                            </button>
                            <button data-ng-click="delTem($index)" class="btn btn-xs btn-danger"
                                    type="button"
                                    title="Xóa" style="margin-left: 5px">Xóa
                            </button>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-scrollable"
                 data-ng-if="theOrder.DIVISION==='02'&&(excel.value==='NHCCBH'|| excel.value==='PKNH')">
                <table class="table table-striped table-bordered table-hover order-column dataTable no-footer"
                       id="sample_1_2" role="grid" aria-describedby="sample_1_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            aria-label=" Email : activate to sort column ascending"> Mặt hàng
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 15%;"
                            aria-label=" Status : activate to sort column ascending"> Số lượng
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Đơn vị
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 10%;"
                            aria-label=" Joined : activate to sort column ascending"> Đơn giá
                        </th>

                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="width: 15%;"
                            aria-label=" Actions : activate to sort column ascending"> Thao tác
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="gradeX odd" role="row" data-ng-repeat="i in theOrder.ITEMS track by $index"
                        data-ng-if="i.MATNR !== '0'">

                        <td class="sorting_1">
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.NAME"
                                   data-ng-if="i.MATNR !== 0"
                                   id="sales_doc_type11"
                                   class="form-control"
                            >
                            <selectize config="myConfig2" ng-model="i.MATNR" ng-disabled='disable' required='true'
                                       data-ng-if="i.MATNR === 0"
                                       ng-change="loadUnit($index, i.MATNR)"></selectize>
                        </td>
                        <!--                        <td class="sorting_1">-->
                        <!--                            {{i.HEIGHT}}-->
                        <!--                        </td>-->
                        <!--                        <td class="sorting_1">-->
                        <!--                            {{i.WIDTH}}-->
                        <!--                        </td>-->

                        <td class="sorting_1">
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.QUANTITY"
                                   id="sales_doc_type2"
                                   class="form-control"
                                   ng-change="check_price()"
                            >
                        </td>
                        <td class="sorting_1">
                            {{i.SALE_UNIT}}
                        </td>
                        <td class="sorting_1">
                            {{i.ZPRICE|number:0}}
                        </td>

                        <td>
                            <button data-ng-click="delTem($index)" class="btn btn-xs btn-danger"
                                    type="button"
                                    title="Xóa" style="margin-left: 5px">Xóa
                            </button>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
            <div data-ng-if="theOrder.DIVISION==='02'&&excel.value!=='NHCCBH'&&excel.value!=='PKNH'">
                <div class="row">
                    <div class="form-group col-md-8">
                        <div class="form-horizontal">
                            <label class="control-label col-md-4" style="text-align: right">Loại mặt hàng
                                <span class="required" aria-required="true"></span>
                            </label>
                            <div class="col-md-8">
                                <select class="form-control" name="options2"
                                        tabindex="-1" aria-hidden="true" aria-required="true" aria-invalid="false"
                                        aria-describedby="options2-error"
                                        data-ng-model="ztype_nh_value.value"
                                        data-ng-options="ztype_nh.value as ztype_nh.name for ztype_nh in ztypes_nh">
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-striped table-bordered table-hover order-column dataTable no-footer"
                       id="sample_2" role="grid" aria-describedby="sample_1_info">
                    <thead>
                    <tr role="row" style="text-align: center">
                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 30%"
                            aria-label=" Email : activate to sort column ascending"> Mặt hàng
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="5"
                            style="text-align: center; vertical-align: middle;"
                            aria-label=" Joined : activate to sort column ascending"> Số lượng đặt hàng

                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Status : activate to sort column ascending"> m/<br/>thanh
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> kg/<br/>thanh
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> thanh/<br/>bó
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle;"
                            aria-label=" Joined : activate to sort column ascending"> Đơn giá<br/>chưa<br/>VAT
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle;"
                            aria-label=" Joined : activate to sort column ascending"> Thành tiền
                        </th>

                        <th tabindex="0" aria-controls="sample_1" rowspan="2" colspan="1"
                            style="text-align: center; vertical-align: middle;"
                            aria-label=" Actions : activate to sort column ascending"> Thao tác
                        </th>
                    </tr>

                    <tr role="row">
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> Số bó
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> Thanh<br/>lẻ
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> Thanh
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 55px;"
                            aria-label=" Joined : activate to sort column ascending"> Mét
                        </th>
                        <th tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1"
                            style="text-align: center; vertical-align: middle; width: 70px;"
                            aria-label=" Joined : activate to sort column ascending"> KG
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="gradeX odd" role="row" data-ng-repeat="i in theOrder.ITEMS track by $index">
                        <td class="sorting_1">
                            <!--                            <select class="form-control " name="options2"-->
                            <!--                                    tabindex="-1" aria-hidden="true" aria-required="true" aria-invalid="false"-->
                            <!--                                    aria-describedby="options2-error"-->
                            <!--                                    data-ng-model="i.MATNR"-->
                            <!--                                    ng-change="loadUnit($index, i.MATNR)"-->
                            <!--                                    data-ng-options="maras.MATNR as maras.MAKTX for maras in maras">-->
                            <!--                            </select>-->
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.NAME"
                                   data-ng-if="i.MATNR !== 0"
                                   id="sales_doc_type234"
                                   class="form-control"
                            >
                            <selectize config="myConfig2" ng-model="i.MATNR" ng-disabled='disable' required='true'
                                       data-ng-if="i.MATNR === 0"
                                       ng-change="loadUnit($index, i.MATNR)"></selectize>
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_BOS'">
                            <input type="text" name="target_quantity"
                                   data-ng-model="char.VALUE" style="width: 40px; text-align: right;"
                                   ng-change="loadValue(i.MATNR)"
                            >
                        </td>
                        <td class="sorting_1" style="text-align: right;">
                            <input type="text" name="target_quantity"
                                   data-ng-model="i.thanh_le" style="width: 40px; text-align: right;"
                                   ng-change="loadValue(i.MATNR)"
                            >
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_SO_THANH'">
                            <div>{{char.VALUE}}</div>
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_SO_LUONG'">
                            <div>{{char.VALUE}}</div>
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_KL_TONG'">
                            <div>{{char.VALUE}}</div>
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_KT_THANH'">
                            <input type="text" name="target_quantity" style="width: 40px; text-align: right;"
                                   data-ng-model="char.VALUE"
                                   value="6"
                                   ng-change="loadValue(i.MATNR)"
                            >
                        </td>
                        <!--                        <td class="sorting_1" data-ng-repeat="char in i.CHARACTERISTICS" data-ng-if="char.ATNAM==='Z_TY_TRONG'">-->
                        <!--                            <div >{{char.VALUE}}</div>-->
                        <!--                        </td>-->
                        <td class="sorting_1" style="text-align: right;">
                            <div>{{i.kg_thanh}}</div>
                        </td>
                        <td class="sorting_1" style="text-align: right;" data-ng-repeat="char in i.CHARACTERISTICS"
                            data-ng-if="char.ATNAM==='Z_HS_BO'">
                            <div>{{char.VALUE}}</div>
                        </td>

                        <td class="sorting_1" style="text-align: right;">
                            {{i.price|number:0}}
                        </td>
                        <td class="sorting_1" style="text-align: right;">
                            {{i.total_price|number:0}}
                        </td>

                        <td>
                            <button data-ng-click="delTem($index)" class="btn btn-xs btn-danger"
                                    type="button"
                                    title="Xóa" style="margin-left: 5px">Xóa
                            </button>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="table-toolbar" data-ng-if="theOrder.DIVISION!=='02'">
            <div class="row">
                <div class="col-md-6">
                    <div class="btn-group">
                        <button id="sample_editable_1_new" class="btn sbold green" data-ng-click="addNew()"> Thêm mới
                            phụ kiện
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-toolbar" data-ng-if="theOrder.DIVISION==='02'&&excel.value!=='NHCCBH'&&excel.value!=='PKNH'">
            <div class="row">
                <div class="col-md-6">
                    <div class="btn-group">
                        <button id="sample_editable_2_new" class="btn sbold green"
                                data-ng-click="addNewNH(ztype_nh_value.value)"> Thêm mới
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-toolbar"
             data-ng-if="theOrder.DIVISION==='02'&&(excel.value==='NHCCBH' || excel.value==='PKNH')">
            <div class="row">
                <div class="col-md-6">
                    <div class="btn-group">
                        <button id="sample_editable_3_new" class="btn sbold green"
                                data-ng-click="addNewNH(excel.value)"> Thêm mới
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-11">
                <div class="form-group col-md-12">
                    <div class="form-group">
                        <label class="col-md-3 control-label" style="text-align: right;"><strong>Phân loại đơn
                            hàng</strong></label>
                        <div class="col-md-3">
                            <select class="form-control js-example-basic-single" name="options2" id="option"
                                    tabindex="-1" aria-hidden="true" aria-required="true"
                                    aria-invalid="false"
                                    aria-describedby="options2-error"
                                    data-ng-model="theOrder.ztc"
                                    disabled="disabled">
                                <option value="0">Trong tiêu chuẩn</option>
                                <option value="">Trong tiêu chuẩn</option>
                                <option value="1">Ngoài tiêu chuẩn</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-11">
                <div class="form-group col-md-12">
                    <div class="form-group">
                        <label class="col-md-3 control-label" style="text-align: right;"><strong>Ghi chú đặt
                            hàng</strong></label>
                        <div class="col-md-9">
                            <textarea class="form-control" rows="3" data-ng-model="theOrder.NOTE"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form class="js-validation-material push-10-t" data-ng-submit="submitDuAnForm()" method="post">
    <div class="portlet light bordered">
        <div class="portlet-title">
            <div class="caption font-dark">
                <i class="font-dark"></i>
                <span class="caption-subject bold uppercase"> <strong>Thông tin Giao hàng và công nợ</strong></span>
            </div>
        </div>
        <div class="portlet-body">
            <div class="row">
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Ngày đặt hàng</strong></label>
                        <div class="col-md-3">
                            <input type="text" name="today"
                                   data-ng-model="today"
                                   id="today"
                                   class="form-control"
                                   disabled="disabled"
                                   style="text-align: center;"
                            >
                            <script>
                                $('#today').datepicker({
                                    format: 'dd/mm/yyyy',
                                    footer: true,
                                    modal: true
                                });
                            </script>
                        </div>

                        <div class="col-md-2">
                            <input type="text" name="today"
                                   data-ng-model="tg_dh"
                                   id="tg_dh"
                                   class="form-control"
                                   disabled="disabled"
                                   style="text-align: center;"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4" style="text-align: right;"><strong>Ngày đại lý yêu cầu
                            giao hàng</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input id="input" class="form-control" style="text-align: center;" name="date"
                                   style="width: 100%"
                                   ng-change="checkDate(theDate, zend_date)"
                                   data-ng-model="theDate"/>
                            <script>
                                $('#input').datepicker({
                                    format: 'dd/mm/yyyy',
                                    footer: true,
                                    modal: true
                                });
                            </script>
                        </div>
                        <div class="col-md-3"></div>
                        <div class="col-md-3">
                            <label class="control-label col-md-8" style="color: red;">
                                <strong>{{message}}</strong></label>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4" style="text-align: right;"><strong>Ngày giao hàng tiêu
                            chuẩn</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="today"
                                   data-ng-model="zend_date"
                                   id="zend_date"
                                   class="form-control"
                                   style="text-align: center;"
                                   disabled="disabled"
                            >
                            <script>
                                $('#today').datepicker({
                                    format: 'dd/mm/yyyy',
                                    footer: true,
                                    modal: true
                                });
                            </script>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Đại lý đặt hàng</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-7">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.name_shipto"
                                   id="customer_cmt"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Địa chỉ giao hàng</strong></label>
                        <div class="col-md-4">
                            <select class="form-control js-example-basic-single" name="options2" id="option3"
                                    tabindex="-1" aria-hidden="true" aria-required="true"
                                    aria-invalid="false"
                                    aria-describedby="options2-error"
                                    data-ng-model="addressOption"
                                    ng-change="loadAddress(addressOption)">
                                <option value="" selected>Giao đến Showroom đại lý</option>
                                <option value="1">Giao đến địa chỉ khác</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong></strong></label>
                        <div class="col-md-7">
                            <input type="text" name="mst"
                                   data-ng-model="address"
                                   id="mst"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: left"></label>
                        <div class="col-md-3">
                            <select class="form-control js-example-basic-single" name="vsart"
                                    tabindex="-1" aria-hidden="true" aria-required="true"
                                    aria-invalid="false"
                                    aria-describedby="options2-error"
                                    data-ng-model="vsart"
                                    ng-change="loadRoute(vsart)"
                                    data-ng-options="t173t.VSART as t173t.BEZEI for t173t in gt_t173t">
                            </select>
                        </div>
                        <div class="col-md-3">
                            <select class="form-control js-example-basic-single" name="route"
                                    tabindex="-1" aria-hidden="true" aria-required="true"
                                    aria-invalid="false"
                                    aria-describedby="options2-error"
                                    data-ng-model="route"
                                    ng-change="check_price()"
                                    data-ng-options="route.ROUTE as route.BEZEI for route in gt_route">
                            </select>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Tên người nhận hàng</strong></label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.ten_nnh"
                                   id="name_customer"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Điện thoại người nhận hàng</strong></label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.phone_number"
                                   id="customer_phone"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Tên khách hàng cuối</strong></label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.TEN_KHC"
                                   id="TEN_KHC"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Điện thoại khách hàng cuối</strong></label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.SDT_KHC"
                                   id="SDT_KHC"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class=" form-horizontal">
                        <label class="col-md-4 control-label"
                               style="text-align: right;"><strong>Địa chỉ khách hàng cuối</strong></label>
                        <div class="col-md-7">
                            <input type="text" name="tem_name"
                                   data-ng-model="theOrder.DC_KHC"
                                   id="DC_KHC"
                                   class="form-control"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Tổng tiền hàng (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="total"
                                   number-format=""
                                   data-ng-model="total_price"
                                   id="total" style="text-align: right;"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Chiết khấu đơn hàng (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   number-format=""
                                   data-ng-model="ck"
                                   id="ck" style="text-align: right;"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Tổng tiền sau chiết khấu (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="price_after_ck"
                                   number-format=""
                                   data-ng-model="price_after_ck"
                                   id="price_after_ck" style="text-align: right;"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Thuế GTGT (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="tax"
                                   number-format=""
                                   data-ng-model="tax"
                                   id="tax" style="text-align: right;"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Số tiền cần thanh toán (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   number-format=""
                                   data-ng-model="price"
                                   id="pay_money" style="text-align: right;"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Công nợ hiện tại (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="credit_name"
                                   data-ng-model="theOrder.credit_name"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                        <div class="col-md-3">
                            <input type="text" name="credit_value_cus"
                                   number-format=""
                                   data-ng-model="theOrder.credit_value_cus"
                                   id="credit_value_cus"
                                   class="form-control" style="text-align: right;"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Hạn mức sản xuất (Đồng)</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="credit_name"
                                   data-ng-model="theOrder.credit_name"
                                   id="credit_name"
                                   class="form-control"
                                   disabled="disabled"
                            >
                        </div>
                        <div class="col-md-3">
                            <input type="text" name="credit_value"
                                   number-format=""
                                   data-ng-model="theOrder.credit_value"
                                   id="credit_value"
                                   class="form-control" style="text-align: right;"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-md-10">
                    <div class="form-horizontal">
                        <label class="control-label col-md-4"
                               style="text-align: right;"><strong>Trạng thái đơn hàng</strong>
                            <span class="required" aria-required="true"></span>
                        </label>
                        <div class="col-md-3">
                            <input type="text" name="tem_name"
                                   value="Khởi tạo"
                                   class="form-control"
                                   style="text-align: center;"
                                   disabled="disabled"
                            >
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>

            </div>
        </div>
    </div>
    <!-- Action trên đơn đặt hàng: Lưu, Gửi, Hủy bỏ -->
    <div class="portlet light bordered">
        <div class="portlet-body">
            <div class="row">
                <div class="form-group col-md-6">
                    <div class="btn-group">
                        <button id="save" class="btn sbold green"
                                data-ng-click="submit('')"> Lưu lại
                        </button>
                        <button id="send" class="btn sbold green" style="margin-left: 10px;"
                                data-ng-click="submit('next')"> Xem đơn hàng
                        </button>
                        <button id="sample_editable_4_new" class="btn sbold red" data-ng-click="cancel()"
                                style="margin-left: 10px;"> Hủy
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>


<div id="myModal" class="modal fade">
    <div class="modal-dialog" style="width: 40%">
        <div class="modal-content">
            <!-- dialog body -->
            <div class="modal-body" style="padding: 0">
                <div class="portlet box blue" style="border: none!important;">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-gift"></i>Thông số kỹ thuật: {{name}}
                        </div>
                    </div>
                    <div class="portlet-body form">
                        <!-- BEGIN FORM-->
                        <form class="form-horizontal form-bordered ng-pristine ng-valid">
                            <div class="form-body">
                                <div data-ng-repeat="char_gr in character_group track by $index">
                                    <div class="portlet light bordered" data-ng-if="checkGroup(char_gr.value)===true"
                                         style="margin-bottom: 5px; padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px;">
                                        <div class="portlet-title" style="min-height: 10px !important;">
                                            <div class="caption font-dark "><span
                                                    class="caption-subject bold uppercase"> {{char_gr.description}} </span>
                                            </div>
                                        </div>
                                        <div class="portlet-body">
                                            <div class="form-group" style="border: none; margin-bottom: 0px !important;"
                                                 data-ng-repeat="character in characters track by $index">
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM !== 'Z_HEIGHT'
                                                    &&character.ATNAM !== 'Z_WIDTH'
                                                    &&character.ATNAM !== 'Z_H_THOANG'
                                                    &&character.ATNAM !== 'Z_KT_RAY'
                                                    &&character.ATNAM !== 'Z_MODEL_CUA'
                                                    &&character.ATNAM !== 'Z_RAY_GR'
                                                    &&character.ATNAM !== 'Z_RAY_KT_SD'
                                                    &&character.ATNAM !== 'Z_RAY_KT15'
                                                    &&character.ATNAM !== 'Z_RAY_KT17'
                                                    &&character.ATNAM !== 'Z_RAY_KT19'
                                                    &&character.ATNAM !== 'Z_RAY_KT24'
                                                    &&character.ATNAM !== 'Z_RAY_KHAC'
                                                    &&character.ATNAM !== 'Z_RAY_TL_SD'
                                                    &&character.ATNAM !== 'Z_RAY_TL0'
                                                    &&character.ATNAM !== 'Z_MODEL_BT'
                                                    &&character.ATNAM !== 'Z_DIEN_TICH'
                                                    &&character.ATNAM !== 'Z_CYC'
                                                    &&character.ATNAM !== 'Z_KT_TRUC0'
                                                    &&character.ATNAM !== 'Z_PHIA_BT'
                                                    &&character.ATNAM !== 'Z_KT_RAY0')">{{character.SMBEZ}}</label>
                                                <!-- Hiển thị diễn giải đơn vị tính mm -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                       && (character.ATNAM === 'Z_HEIGHT'||character.ATNAM === 'Z_WIDTH'
                                                       ||character.ATNAM === 'Z_H_THOANG'||character.ATNAM === 'Z_KT_RAY'
                                                       ||character.ATNAM === 'Z_CYC'||character.ATNAM === 'Z_KT_TRUC0')">
                                                    {{character.SMBEZ}} (mm)</label>
                                                <!-- Hiển thị "Loại cửa" thay cho "Model cửa" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_MODEL_CUA')">Loại cửa</label>
                                                <!-- Hiển thị "Loại ray" thay cho "Ray lắp cho cửa *" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_RAY_GR'
                                                    ||character.ATNAM === 'Z_RAY_KT_SD'
                                                    ||character.ATNAM === 'Z_RAY_KT15'
                                                    ||character.ATNAM === 'Z_RAY_KT17'
                                                    ||character.ATNAM === 'Z_RAY_KT19'
                                                    ||character.ATNAM === 'Z_RAY_KT24'
                                                    ||character.ATNAM === 'Z_RAY_KHAC'
                                                    ||character.ATNAM === 'Z_RAY_TL_SD'
                                                    ||character.ATNAM === 'Z_RAY_TL0')">Loại ray</label>
                                                <!-- Hiển thị "Loại bộ tời" thay cho "Model bộ tời" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_MODEL_BT')">Loại bộ tời</label>
                                                <!-- Hiển thị "Diện tích (m2)" thay cho "Diện tích" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_DIEN_TICH')">{{character.SMBEZ}}
                                                    (m2)</label>
                                                <!-- Hiển thị "Vị trí lắp (R-Phải/L-Trái)" thay cho "Phía động cơ" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_PHIA_BT')">Vị trí lắp
                                                    (R-Phải/L-trái)</label>
                                                <!-- Hiển thị "Kích thước ray" thay cho "KT ray yêu cầu" -->
                                                <label class="control-label col-md-4" style="padding-top: 0px"
                                                       data-ng-if="character.ZGROUP===char_gr.value
                                                    && (character.ATNAM === 'Z_KT_RAY0')">Kích thước ray (mm)</label>
                                                <!-- ----------------- -->
                                                <div class="col-md-6" data-ng-if="character.ZGROUP===char_gr.value"
                                                     style="padding-top: 0px; padding-bottom: 5px;">
                                                    <select type="text" data-ng-if="character.value_default.length > 0"
                                                            class="form-control" data-ng-model="character.VALUE"
                                                            data-ng-options="character.VALDESCR as character.VALDESCR for character in character.value_default"
                                                            ng-change="loadBoToi_ThanhRay(char_gr.value, character.VALUE, character.ATNAM)">
                                                    </select>

                                                    <input type="number"
                                                           data-ng-if="character.value_default.length === 0 && character.ATNAM === 'Z_DIEN_TICH'"
                                                           class="form-control" data-ng-model="character.VALUE"
                                                           disabled="disabled" style="padding-top: 0px">
                                                    <input type="text"
                                                           data-ng-if="character.value_default.length === 0 && character.ATNAM !== 'Z_DIEN_TICH'
                                                            && character.ATNAM !== 'Z_HEIGHT' && character.ATNAM !== 'Z_WIDTH'"
                                                           class="form-control" data-ng-model="character.VALUE"
                                                           style="padding-top: 0px">
                                                    <input type="number"
                                                           data-ng-if="character.value_default.length === 0 && (character.ATNAM === 'Z_HEIGHT'||character.ATNAM === 'Z_WIDTH')"
                                                           class="form-control" data-ng-model="character.VALUE"
                                                           ng-change="loadDientichThanCua()" style="padding-top: 0px">
                                                </div>
                                                <div class="col-md-2" data-ng-if="character.ZGROUP===char_gr.value"
                                                     style="padding-top: 0px; padding-bottom: 5px; border-left: 0 !important;">
                                                    <button class="btn btn-xs btn-success"
                                                            data-ng-if="character.value_default.length > 0"
                                                            data-ng-click="refresh_data(character.ATNAM)">
                                                        <i class="icon-refresh"></i>
                                                    </button>
                                                </div>


                                            </div>
                                            <div class="form-group" style="border: none"
                                                 data-ng-if="char_gr.value === '07'">
                                                <label class="control-label col-md-4" style="padding-top: 0px">Chọn bộ
                                                    tời</label>
                                                <div class="col-md-6" style="padding-top: 0px">
                                                    <select type="text"
                                                            class="form-control" data-ng-model="data.matnr_bt"
                                                            data-ng-options="botoi.MATNR as botoi.MAKTX for botoi in botois">
                                                    </select>
                                                </div>
                                                <div class="col-md-2"
                                                     style="padding-top: 0px; padding-bottom: 5px; border-left: 0 !important;">
                                                    <button class="btn btn-xs btn-success"
                                                            data-ng-click="refresh_data(character.ATNAM,'botoi')">
                                                        <i class="icon-refresh"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="form-group" style="border: none"
                                                 data-ng-if="char_gr.value === '08'">
                                                <label class="control-label col-md-4" style="padding-top: 0px">Chọn
                                                    thanh ray</label>
                                                <div class="col-md-6" style="padding-top: 0px">
                                                    <select type="text"
                                                            class="form-control" data-ng-model="data.matnr_tr"
                                                            data-ng-options="thanhray.MATNR_REFER as thanhray.DESCRIPTION for thanhray in thanhrays">
                                                    </select>
                                                </div>
                                                <div class="col-md-2"
                                                     style="padding-top: 0px; padding-bottom: 5px; border-left: 0 !important;">
                                                    <button class="btn btn-xs btn-success"
                                                            data-ng-click="refresh_data(character.ATNAM,'thanhray')">
                                                        <i class="icon-refresh"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-body">
                                <div class="portlet light bordered">
                                    <div class="row" style="text-align: center">
                                        <div class="col-md-12"><strong><em style="color: red">{{message1}} </em></strong></div>
                                        <div class="col-md-12"><strong><em style="color: red">{{message2}} </em></strong></div>
                                        <div class="col-md-12"><strong><em style="color: red">{{message3}} </em></strong></div>
                                        <div class="col-md-12"><strong><em style="color: red">{{message4}} </em></strong></div>
                                    </div>
                                    <div class="clearfix"></div>
                                </div>

                            </div>
                            <div class="form-actions">
                                <div class="row">
                                    <div class="col-md-offset-3 col-md-9">
                                        <button type="submit" class="btn green"
                                                data-ng-click="submitPopup(material, zindex)">
                                            <i class="fa fa-check"></i> Tiếp tục
                                        </button>
                                        <button type="submit" class="btn yellow"
                                                data-ng-click="refresh(characters)">
                                            <i class="fa fa-check"></i> Làm mới
                                        </button>
                                        <button type="button" class="btn default" data-dismiss="modal">Loại bỏ</button>

                                    </div>
                                </div>
                            </div>
                        </form>
                        <!-- END FORM-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



